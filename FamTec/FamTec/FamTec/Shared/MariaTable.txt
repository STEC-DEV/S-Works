

/*사업장 테이블*/
CREATE TABLE PLACE_TB
(
	PLACE_IDX INT AUTO_INCREMENT NOT NULL PRIMARY KEY /* 자동증가 인덱스 */,
	PLACE_CD VARCHAR(25) NOT NULL, /*사업장 코드*/
	`NAME` VARCHAR(255) NOT NULL, /*계약번호*/
	CONTRACT_NUM VARCHAR(45) NOT NULL, /*계약번호*/
	NOTE VARCHAR(20), /*비고*/
	
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE) /* false:삭제안함 true:삭제함 */
)

/*사용자 테이블*/
CREATE TABLE USERS_TB
(
	USER_IDX INT AUTO_INCREMENT NOT NULL PRIMARY KEY, /*자동증가값*/
	USER_ID VARCHAR(15) NOT NULL, /* 사용자아이디 */
	PASSWORD VARCHAR(30) NOT NULL, /*사용자비밀번호*/
	NAME VARCHAR(15) NOT NULL, /*사용자이름*/
	EMAIL VARCHAR(30), /*이메일*/
	PHONE VARCHAR(20), /*전화번호*/
	
	PERM_BUILDING INT DEFAULT(0) NOT NULL,/*건물정보 관리 권한*/
	PERM_EQUIPMENT INT DEFAULT(0) NOT NULL,/*장비관리 권한*/
	PERM_MATERIAL INT DEFAULT(0) NOT NULL,/*자재관리 권한*/
	PERM_ENERGY INT DEFAULT(0) NOT NULL,/*에너지관리 권한*/
	PERM_OFFICE INT DEFAULT(0) NOT NULL,/*행정관리 권한*/
	PERM_COMP INT DEFAULT(0) NOT NULL,/*업체관리 권한*/
	PERM_CONST INT DEFAULT(0) NOT NULL,/*공사관리 권한*/
	PERM_CLAIM INT DEFAULT(0) NOT NULL,/*민원관리 권한*/
	PERM_SYS INT DEFAULT(0) NOT NULL,/*시스템연동 관리 권한*/
	PERM_EMPLOYEE INT DEFAULT(0) NOT NULL,/*입퇴직 관리 권한d*/
	PERM_LAW_CK INT DEFAULT(0) NOT NULL,/*법정점검 권한*/
	PERM_LAW_EDU INT DEFAULT(0) NOT NULL,/*법정교육 권한*/
	
	ADMIN_YN BOOL DEFAULT(FALSE), /*관리자 여부*/
	ALARM_YN BOOL DEFAULT(FALSE),/*알람수신 여부*/
	STATUS BOOL DEFAULT(TRUE), /*입-재직여부 false:퇴직 true:재직*/
	
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */

	PLACE_PLACEIDX INT,	 /* 사업장테이블 외래키 */
	CONSTRAINT FK_PLACE_202405171848
   FOREIGN KEY(PLACE_PLACEIDX) REFERENCES place_tb(PLACE_IDX)
)

/*부서테이블*/
CREATE TABLE DEPARTMENT_TB
(
	DEPARTMENT_IDX INT AUTO_INCREMENT NOT NULL PRIMARY KEY, /*자동증가값*/
	NAME VARCHAR(25) NOT NULL /*부서명*/
)


/*관리자 테이블*/
CREATE TABLE ADMIN_TB
(
	ADMIN_IDX INT AUTO_INCREMENT NOT NULL PRIMARY KEY, /*자동증가값*/
	TYPE VARCHAR(25) NOT NULL, /*계정유형*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
		
	DEPARMENT_DEPARTMENTIDX INT,	 /* 부서테이블 외래키 */
	CONSTRAINT FK_DEPARTMENT_20240517
   FOREIGN KEY(DEPARMENT_DEPARTMENTIDX) REFERENCES DEPARTMENT_TB(DEPARTMENT_IDX),
   
   USERS_USERIDX INT,	 /* 사용자테이블 외래키 */
	CONSTRAINT FK_USERS_202405171848
   FOREIGN KEY(USERS_USERIDX) REFERENCES USERS_TB(USER_IDX)
)

/*관리자 사업장 테이블*/
CREATE TABLE ADMIN_PLACE_TB
(
	ADMIN_PLACE_IDX INT AUTO_INCREMENT NOT NULL PRIMARY KEY, /*자동증가값*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	UPDATE_DT DATETIME, /*수정시간*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	
	PLACE_PLACEIDX INT,	 /* 사업장테이블 외래키 */
	CONSTRAINT FK_PLACE_202405171850
   FOREIGN KEY(PLACE_PLACEIDX) REFERENCES place_tb(PLACE_IDX),
   
   ADMIN_ADMINIDX INT,	 /* 관리자테이블 외래키 */
	CONSTRAINT FK_ADMINS_202405171850
   FOREIGN KEY(ADMIN_ADMINIDX) REFERENCES ADMIN_TB(ADMIN_IDX)
)

/*단위*/
CREATE TABLE UNIT_TB
(
	UNIT_IDX INT AUTO_INCREMENT NOT NULL PRIMARY KEY,/*자동증가값*/
	UNIT VARCHAR(10) NOT NULL,/*단위명*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */

	PLACE_PLACEIDX INT,	 /* 사업장테이블 외래키 */
	CONSTRAINT FK_PLACE_202405171903
   FOREIGN KEY(PLACE_PLACEIDX) REFERENCES place_tb(PLACE_IDX)
)

/*건물 테이블*/
CREATE TABLE BUILDING_TB
(
	BUILDING_IDX INT AUTO_INCREMENT PRIMARY KEY NOT NULL,
	BUILDING_CD VARCHAR(25) NOT NULL, /*빌딩코드*/
	NAME VARCHAR(255) NOT NULL, /*건물명*/
	ADDRESS VARCHAR(255) NOT NULL,/*건물주소*/
	TEL VARCHAR(20), /*전화번호*/
	USEAGE VARCHAR(20), /*건물용도*/
	CONST_COMP VARCHAR(20),/*시공업체*/
	COMPLETION_DATE DATETIME, /*준공년월*/
	BUILDING_STRUCT VARCHAR(30), /*건물구조*/
	ROOF_STRUCT VARCHAR(30), /*지붕구조*/
	
	GROSS_FLOOR_AREA FLOAT, /*연면적*/
	LAND_AREA FLOAT, /*대지면적*/
	BUILDING_AREA FLOAT, /*건축면적*/
	
	FLOOR_NUM INT, /*건물층수*/
	GROUND_FLOOR_NUM INT, /*지상층*/
	BASEMENT_FLOOR_NUM INT, /*지하층*/
	
	BUILDING_HEIGHT FLOAT, /*건물높이*/
	GROUND_HEIGHT FLOAT, /*지상 건물 높이*/
	BASEMENT_HEIGHT FLOAT, /*지하 건물 깊이*/
	
	PACKING_NUM INT, /*주차 대수*/
	INNER_PACKING_NUM INT, /*옥내 대수*/
	OUTER_PACKING_NUM INT, /*옥외 대수*/

	ELEC_CAPACITY FLOAT, /*전기용량*/
	FAUCET_CAPACITY FLOAT, /*수전용량*/
	GENERATION_CAPACITY FLOAT, /*발전용량*/
	WATER_CAPACITY FLOAT, /*급수용량*/
	
	ELEV_WATER_TANK FLOAT, /*고가수조*/
	WATER_TANK FLOAT, /*저수조*/
	
	GAS_CAPACITY FLOAT, /*가스용량*/
	BOILER FLOAT, /*보일러*/
	WATER_DISPENSER FLOAT, /*냉온수기*/
	
	LIFT_NUM INT, /*승강대수*/
	PEOPLE_LIFT_NUM INT, /*인승용*/
	CARGO_LIFT_NUM INT, /*화물용*/
	
	COOL_HEAT_CAPACITY FLOAT, /*냉 난방용량*/
	HEAT_CAPACITY FLOAT, /*난방용량*/
	COOL_CAPACITY FLOAT, /*냉방용량*/
	
	LANDSCAPE_AREA FLOAT, /*조경면적*/
	GROUND_AREA FLOAT, /*지상면적*/
	ROOFTOP_AREA FLOAT, /*옥상면적*/
	
	TOILET_NUM INT, /*화장실 개*/
	MENTOILET_NUM INT, /*남자화장실*/
	WOMEN_TOILET_NUM INT, /*여자화장실*/
	
	FIRE_RATING VARCHAR(10), /*소방등급*/
	
	SEPTIC_TANK_CAPACITY FLOAT, /*정화조 용량*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
		
	PLACE_PLACEIDX INT,	 /* 사업장테이블 외래키 */
	CONSTRAINT FK_PLACE_202405180013
   FOREIGN KEY(PLACE_PLACEIDX) REFERENCES place_tb(PLACE_IDX)
)

/* 층정보 */
CREATE TABLE FLOOR_TB
(
	FLOOR_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL, /*자동증가 인덱스*/
	NAME VARCHAR(10) NOT NULL, /*층 명칭*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	
	BUILDING_BUILDINGIDX INT,	 /* 건물테이블 외래키 */
	CONSTRAINT FK_BULDING_202405180016
   FOREIGN KEY(BUILDING_BUILDINGIDX) REFERENCES BUILDING_TB(BUILDING_IDX)
)

/* 공간 테이블 */
CREATE TABLE ROOM_TB
(
	ROOM_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL, /*자동등자 인덱스*/
	NAME VARCHAR(35) NOT NULL, /*공간명칭*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	
	FLOOR_FLOORIDX INT,	 /* 층테이블 외래키 */
	CONSTRAINT FK_FLOOR_202405180018
   FOREIGN KEY(FLOOR_FLOORIDX) REFERENCES FLOOR_TB(FLOOR_IDX)
)

/* 설비 테이블 */
CREATE TABLE FACILITY_TB
(
	FACILITY_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL, /*자동증가 인덱스*/
	CATEGORY VARCHAR(10) NOT NULL, /*설비구분*/
	NAME VARCHAR(255) NOT NULL, /*설비의 명칭*/
	TYPE VARCHAR(30), /*형식*/
	STANDARD_CAPACITY FLOAT, /*규격용량*/
	STANDARD_CAPACITY_UNIT VARCHAR(10), /*규격용량 단위*/
	FAC_CREATE_DT DATETIME, /*설치년월*/
	LIFESPAN VARCHAR(10), /*내용년수*/
	FAC_UPDATE_DT DATETIME, /*교체년월*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	
	ROOM_ROOMIDX INT,	 /* 공간테이블 외래키 */
	CONSTRAINT FK_ROOM_202405180023
   FOREIGN KEY(ROOM_ROOMIDX) REFERENCES ROOM_TB(ROOM_IDX)
)

/*추가항목*/
CREATE TABLE SUB_ITEM_TB
(
	SUBITEM_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL, /*자동증가인덱스*/
	ITEM_NAME VARCHAR(25) NOT NULL, /*항목명*/
	ELEMGENT_NAME VARCHAR(25), /*요소명*/
	VALUE VARCHAR(255), /*값*/
	UNIT VARCHAR(10), /*단위*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	BUILDING_BUILDINGIDX INT,	 /* 건물테이블 외래키 */
	CONSTRAINT FK_BULDING_202405180026
   FOREIGN KEY(BUILDING_BUILDINGIDX) REFERENCES BUILDING_TB(BUILDING_IDX)
)

/*소켓룸*/
CREATE TABLE SOCKET_ROOM_TB
(
	SOCKET_ROOM_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CODE VARCHAR(30) NOT NULL, /*SIGNAL ROOM 이름*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE) /* false:삭제안함 true:삭제함 */
)

/*민원*/
CREATE TABLE VOC_TB
(
	VOC_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	TITLE VARCHAR(30) NOT NULL, /*민원제목*/
	CONTENT VARCHAR(255) NOT NULL, /*민원내용*/
	`STATUS` INT DEFAULT(0), /*상태 0: 미처리 1: 처리중 2: 처리완료*/
	PHONE_NUMBER VARCHAR(20), /*요청자 휴대폰번호*/
	REPLY BOOL DEFAULT(FALSE), /*처리상태 받기유무*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	BUILDING_BUILDINGIDX INT,	 /* 건물테이블 외래키 */
	CONSTRAINT FK_BULDING_202405180114
   FOREIGN KEY(BUILDING_BUILDINGIDX) REFERENCES BUILDING_TB(BUILDING_IDX)
)

/* 댓글 */
CREATE TABLE COMMENT_TB
(
	COMMENT_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CONTENT VARCHAR(255), /*처리내용*/
	`STATUS` INT DEFAULT(0),
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	VOC_IDX INT,	 /* 민원 테이블 외래키 */
	CONSTRAINT FK_VOC_202405180121
   FOREIGN KEY(VOC_IDX) REFERENCES VOC_TB(VOC_IDX)
)


/*알람 테이블*/
CREATE TABLE ALARM_TB
(
	ALARM_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	`STATUS` INT DEFAULT(0), /*0: 안읽음, 1:읽음*/
	CONTENT VARCHAR(100), /*알람의내용*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	
	USERS_USERIDX INT,	 /* 사용자테이블 외래키 */
	CONSTRAINT FK_USERS_202405180117
   FOREIGN KEY(USERS_USERIDX) REFERENCES USERS_TB(USER_IDX),
   
   SOCKET_ROOMIDX INT,	 /* 소켓룸테이블 외래키 */
	CONSTRAINT FK_SOCKETROOM_202405180117
   FOREIGN KEY(SOCKET_ROOMIDX) REFERENCES SOCKET_ROOM_TB(SOCKET_ROOM_IDX),
   
   VOC_IDX INT,	 /* 민원 테이블 외래키 */
	CONSTRAINT FK_VOC_202405180117
   FOREIGN KEY(VOC_IDX) REFERENCES VOC_TB(VOC_IDX)
)

/* 알림톡(카카오) */
CREATE TABLE KAKAO_LOG_TB
(
	KAKAOLOG_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	RESULT VARCHAR(200), /*알림톡결과*/
	RECEIVER VARCHAR(20) NOT NULL, /*수신자*/
	SENDER VARCHAR(20) NOT NULL, /*발신자*/
	CONTENT VARCHAR(200), /*내용*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*fmsfmsfms수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE) /* false:삭제안함 true:삭제함 */
)



/* --------------------------------------- */

/* 자재 테이블 */
CREATE TABLE MATERIAL_TB
(
	MATERIAL_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CATEGORY VARCHAR(20) NOT NULL, /*자재구분*/
	TYPE VARCHAR(30) NOT NULL, /*타입*/
	NAME VARCHAR(100) NOT NULL, /*자재명*/
	UNIT VARCHAR(10), /*단위*/
	STANDARD VARCHAR(10), /*규격*/
	MANUFACTURING_COMP VARCHAR(25), /*제조사*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE) /* false:삭제안함 true:삭제함 */
)

/* 건물 자재 제고 */
CREATE TABLE TOTAL_INVENTORY_TB
(
	TOTAL_INVENTORY_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	INCOMING_NUM INT DEFAULT(0), /*입고수량*/
	PRICE INT DEFAULT(0), /* 단가 */
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE), /* false:삭제안함 true:삭제함 */
	
	MATERIAL_MATERIALIDX INT,	 /* 건물테이블 외래키 */
	CONSTRAINT FK_MATERIAL_202405180050
   FOREIGN KEY(MATERIAL_MATERIALIDX) REFERENCES MATERIAL_TB(MATERIAL_IDX),
   
   BUILDING_BUILDINGCD VARCHAR(25),	 /* 건물테이블 외래키 */
	CONSTRAINT FK_BULDING_202405180050
   FOREIGN KEY(BUILDING_BUILDINGCD) REFERENCES BUILDING_TB(BUILDING_CD)
)

/* 검침기 테이블 */
CREATE TABLE METER_READER_TB
(
	METER_READER_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	CATEGORY VARCHAR(10), /*구분*/
	TYPE VARCHAR(30), /*계약종별*/
	
	BUILDING_BUILDINGCD VARCHAR(25),	 /* 건물테이블 외래키 */
	CONSTRAINT FK_BULDING_202405180053
   FOREIGN KEY(BUILDING_BUILDINGCD) REFERENCES BUILDING_TB(BUILDING_CD)
)

/*에너지 사용량 테이블*/
CREATE TABLE ENERGY_USAGE_TB
(
	ENERGY_USAGE_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	`USAGE` FLOAT DEFAULT(0), /*사용량*/
	METER_DT DATETIME, /*검침일자*/
	CREATE_DT DATETIME DEFAULT(NOW()), /*생성시간*/
	CREATE_USER VARCHAR(15), /*만든사람*/
	UPDATE_DT DATETIME, /*수정시간*/
	UPDATE_USER VARCHAR(15), /*수정한사람*/
	DEL_DT DATETIME,/*삭제시간*/
	DEL_USER VARCHAR(15),/*삭제한사람*/
	DEL_YN BOOL DEFAULT(FALSE) /* false:삭제안함 true:삭제함 */
)

/*단가*/
CREATE TABLE UNIT_PRICE_TB
(
	UNIT_PRICE_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	PRICE FLOAT DEFAULT(0), /*가격*/
	METER_ITEM VARCHAR(50), /*검침항목*/

	METERREADER_METERREADERIDX int,	 /* 건물테이블 외래키 */
	CONSTRAINT FK_METERREDER_202405180103
   FOREIGN KEY(METERREADER_METERREADERIDX) REFERENCES METER_READER_TB(METER_READER_IDX),
	
	ENERGYUSAGE_ENERGYUSAGEIDX int,	 /* 에너지 사용량  외래키 */
	CONSTRAINT FK_ENERGYUSAGE_202405180103
   FOREIGN KEY(ENERGYUSAGE_ENERGYUSAGEIDX) REFERENCES ENERGY_USAGE_TB(ENERGY_USAGE_IDX)
)

/*에너지 월별 사용량*/
CREATE TABLE ENERGY_MONTH_USAGE_TB
(
	ENERGY_MONTH_IDX INT PRIMARY KEY AUTO_INCREMENT NOT NULL,
	JAN FLOAT DEFAULT(0),
	FEB FLOAT DEFAULT(0),
	MAR FLOAT DEFAULT(0),
	APR FLOAT DEFAULT(0),
	MAY FLOAT DEFAULT(0),
	JUN FLOAT DEFAULT(0),		
	AUG FLOAT DEFAULT(0),
	SEP FLOAT DEFAULT(0),
	`OCT` FLOAT DEFAULT(0),
	NOV FLOAT DEFAULT(0),
	`DEC` FLOAT DEFAULT(0),
	
	METERREADER_METERREADERIDX int,	 /* 건물테이블 외래키 */
	CONSTRAINT FK_METERREADER_202405180108
   FOREIGN KEY(METERREADER_METERREADERIDX) REFERENCES METER_READER_TB(METER_READER_IDX)
)





DROP TABLE building_tb
DROP TABLE energy_usage_tb

DROP TABLE floor_tb

DROP TABLE meter_reader_tb
DROP TABLE place_tb

DROP TABLE users_tb
